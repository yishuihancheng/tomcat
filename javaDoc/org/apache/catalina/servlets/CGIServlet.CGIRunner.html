<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_101) on Sun Sep 25 17:53:27 CST 2016 -->
<title>CGIServlet.CGIRunner</title>
<meta name="date" content="2016-09-25">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CGIServlet.CGIRunner";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/CGIServlet.CGIRunner.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/catalina/servlets/CGIServlet.CGIEnvironment.html" title="org.apache.catalina.servlets中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../org/apache/catalina/servlets/CGIServlet.HTTPHeaderInputStream.html" title="org.apache.catalina.servlets中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/catalina/servlets/CGIServlet.CGIRunner.html" target="_top">框架</a></li>
<li><a href="CGIServlet.CGIRunner.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.catalina.servlets</div>
<h2 title="类 CGIServlet.CGIRunner" class="title">类 CGIServlet.CGIRunner</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.catalina.servlets.CGIServlet.CGIRunner</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>封闭类:</dt>
<dd><a href="../../../../org/apache/catalina/servlets/CGIServlet.html" title="org.apache.catalina.servlets中的类">CGIServlet</a></dd>
</dl>
<hr>
<br>
<pre>protected class <span class="typeNameLabel">CGIServlet.CGIRunner</span>
extends java.lang.Object</pre>
<div class="block">Encapsulates the knowledge of how to run a CGI script, given the
 script's desired environment and (optionally) input/output streams

 <p>

 Exposes a <code>run</code> method used to actually invoke the
 CGI.

 </p>
 <p>

 The CGI environment and settings are derived from the information
 passed to the constructor.

 </p>
 <p>

 The input and output streams can be set by the <code>setInput</code>
 and <code>setResponse</code> methods, respectively.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符</th>
<th class="colLast" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/catalina/servlets/CGIServlet.CGIRunner.html#CGIRunner-java.lang.String-java.util.Hashtable-java.io.File-java.util.ArrayList-">CGIRunner</a></span>(java.lang.String&nbsp;command,
         java.util.Hashtable&lt;java.lang.String,java.lang.String&gt;&nbsp;env,
         java.io.File&nbsp;wd,
         java.util.ArrayList&lt;java.lang.String&gt;&nbsp;params)</code>
<div class="block">Creates a CGIRunner and initializes its environment, working
  directory, and query parameters.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/catalina/servlets/CGIServlet.CGIRunner.html#hashToStringArray-java.util.Hashtable-">hashToStringArray</a></span>(java.util.Hashtable&lt;java.lang.String,?&gt;&nbsp;h)</code>
<div class="block">Converts a Hashtable to a String array by converting each
 key/value pair in the Hashtable to a String in the form
 "key=value" (hashkey + "=" + hash.get(hashkey).toString())</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/catalina/servlets/CGIServlet.CGIRunner.html#isReady--">isReady</a></span>()</code>
<div class="block">Gets ready status</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/catalina/servlets/CGIServlet.CGIRunner.html#run--">run</a></span>()</code>
<div class="block">Executes a CGI script with the desired environment, current working
 directory, and input/output streams

 
 This implements the following CGI specification recommedations:
 
  Servers SHOULD provide the "<code>query</code>" component of
      the script-URI as command-line arguments to scripts if it
      does not contain any unencoded "=" characters and the
      command-line arguments can be generated in an unambiguous
      manner.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/catalina/servlets/CGIServlet.CGIRunner.html#setInput-java.io.InputStream-">setInput</a></span>(java.io.InputStream&nbsp;stdin)</code>
<div class="block">Sets standard input to be passed on to the invoked cgi script</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/catalina/servlets/CGIServlet.CGIRunner.html#setResponse-javax.servlet.http.HttpServletResponse-">setResponse</a></span>(<a href="../../../../javax/servlet/http/HttpServletResponse.html" title="javax.servlet.http中的接口">HttpServletResponse</a>&nbsp;response)</code>
<div class="block">Sets HttpServletResponse object used to set headers and send
 output to</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/catalina/servlets/CGIServlet.CGIRunner.html#updateReadyStatus--">updateReadyStatus</a></span>()</code>
<div class="block">Checks & sets ready status</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="CGIRunner-java.lang.String-java.util.Hashtable-java.io.File-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CGIRunner</h4>
<pre>protected&nbsp;CGIRunner(java.lang.String&nbsp;command,
                    java.util.Hashtable&lt;java.lang.String,java.lang.String&gt;&nbsp;env,
                    java.io.File&nbsp;wd,
                    java.util.ArrayList&lt;java.lang.String&gt;&nbsp;params)</pre>
<div class="block">Creates a CGIRunner and initializes its environment, working
  directory, and query parameters.
  <BR>
  Input/output streams (optional) are set using the
  <code>setInput</code> and <code>setResponse</code> methods,
  respectively.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>command</code> - string full path to command to be executed</dd>
<dd><code>env</code> - Hashtable with the desired script environment</dd>
<dd><code>wd</code> - File with the script's desired working directory</dd>
<dd><code>params</code> - ArrayList with the script's query command line
                  parameters as strings</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="updateReadyStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateReadyStatus</h4>
<pre>protected&nbsp;void&nbsp;updateReadyStatus()</pre>
<div class="block">Checks & sets ready status</div>
</li>
</ul>
<a name="isReady--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReady</h4>
<pre>protected&nbsp;boolean&nbsp;isReady()</pre>
<div class="block">Gets ready status</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>false if not ready (<code>run</code> will throw
           an exception), true if ready</dd>
</dl>
</li>
</ul>
<a name="setResponse-javax.servlet.http.HttpServletResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setResponse</h4>
<pre>protected&nbsp;void&nbsp;setResponse(<a href="../../../../javax/servlet/http/HttpServletResponse.html" title="javax.servlet.http中的接口">HttpServletResponse</a>&nbsp;response)</pre>
<div class="block">Sets HttpServletResponse object used to set headers and send
 output to</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>response</code> - HttpServletResponse to be used</dd>
</dl>
</li>
</ul>
<a name="setInput-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInput</h4>
<pre>protected&nbsp;void&nbsp;setInput(java.io.InputStream&nbsp;stdin)</pre>
<div class="block">Sets standard input to be passed on to the invoked cgi script</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>stdin</code> - InputStream to be used</dd>
</dl>
</li>
</ul>
<a name="hashToStringArray-java.util.Hashtable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashToStringArray</h4>
<pre>protected&nbsp;java.lang.String[]&nbsp;hashToStringArray(java.util.Hashtable&lt;java.lang.String,?&gt;&nbsp;h)
                                        throws java.lang.NullPointerException</pre>
<div class="block">Converts a Hashtable to a String array by converting each
 key/value pair in the Hashtable to a String in the form
 "key=value" (hashkey + "=" + hash.get(hashkey).toString())</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>h</code> - Hashtable to convert</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>converted string array</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.NullPointerException</code> - if a hash key has a null value</dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre>protected&nbsp;void&nbsp;run()
            throws java.io.IOException</pre>
<div class="block">Executes a CGI script with the desired environment, current working
 directory, and input/output streams

 <p>
 This implements the following CGI specification recommedations:
 <UL>
 <LI> Servers SHOULD provide the "<code>query</code>" component of
      the script-URI as command-line arguments to scripts if it
      does not contain any unencoded "=" characters and the
      command-line arguments can be generated in an unambiguous
      manner.
 <LI> Servers SHOULD set the AUTH_TYPE metavariable to the value
      of the "<code>auth-scheme</code>" token of the
      "<code>Authorization</code>" if it was supplied as part of the
      request header.  See <code>getCGIEnvironment</code> method.
 <LI> Where applicable, servers SHOULD set the current working
      directory to the directory in which the script is located
      before invoking it.
 <LI> Server implementations SHOULD define their behavior for the
      following cases:
     <ul>
     <LI> <u>Allowed characters in pathInfo</u>:  This implementation
             does not allow ASCII NUL nor any character which cannot
             be URL-encoded according to internet standards;
     <LI> <u>Allowed characters in path segments</u>: This
             implementation does not allow non-terminal NULL
             segments in the the path -- IOExceptions may be thrown;
     <LI> <u>"<code>.</code>" and "<code>..</code>" path
             segments</u>:
             This implementation does not allow "<code>.</code>" and
             "<code>..</code>" in the the path, and such characters
             will result in an IOException being thrown (this should
             never happen since Tomcat normalises the requestURI
             before determining the contextPath, servletPath and
             pathInfo);
     <LI> <u>Implementation limitations</u>: This implementation
             does not impose any limitations except as documented
             above.  This implementation may be limited by the
             servlet container used to house this implementation.
             In particular, all the primary CGI variable values
             are derived either directly or indirectly from the
             container's implementation of the Servlet API methods.
     </ul>
 </UL>
 </p></div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code> - if problems during reading/writing occur</dd>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><code>Runtime.exec(String command, String[] envp,
                                File dir)</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/CGIServlet.CGIRunner.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/catalina/servlets/CGIServlet.CGIEnvironment.html" title="org.apache.catalina.servlets中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../org/apache/catalina/servlets/CGIServlet.HTTPHeaderInputStream.html" title="org.apache.catalina.servlets中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/catalina/servlets/CGIServlet.CGIRunner.html" target="_top">框架</a></li>
<li><a href="CGIServlet.CGIRunner.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
