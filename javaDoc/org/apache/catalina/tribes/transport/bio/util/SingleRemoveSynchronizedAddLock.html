<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_101) on Sun Sep 25 17:53:22 CST 2016 -->
<title>SingleRemoveSynchronizedAddLock</title>
<meta name="date" content="2016-09-25">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SingleRemoveSynchronizedAddLock";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/SingleRemoveSynchronizedAddLock.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/LinkObject.html" title="org.apache.catalina.tribes.transport.bio.util中的类"><span class="typeNameLink">上一个类</span></a></li>
<li>下一个类</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html" target="_top">框架</a></li>
<li><a href="SingleRemoveSynchronizedAddLock.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.catalina.tribes.transport.bio.util</div>
<h2 title="类 SingleRemoveSynchronizedAddLock" class="title">类 SingleRemoveSynchronizedAddLock</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.catalina.tribes.transport.bio.util.SingleRemoveSynchronizedAddLock</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">SingleRemoveSynchronizedAddLock</span>
extends java.lang.Object</pre>
<div class="block">The class <b>SingleRemoveSynchronizedAddLock</b> implement locking for
 accessing the queue by a single remove thread and multiple add threads.

 A thread is only allowed to be either the remove or
 an add thread.

 The lock can either be owned by the remove thread
 or by a single add thread.

 If the remove thread tries to get the lock,
 but the queue is empty, it will block (poll)
 until an add threads adds an entry to the queue and
 releases the lock.
 
 If the remove thread and add threads compete for
 the lock and an add thread releases the lock, then
 the remove thread will get the lock first.

 The remove thread removes all entries in the queue
 at once and processes them without further
 polling the queue.

 The lock is not reentrant, in the sense, that all
 threads must release an owned lock before competing
 for the lock again!</div>
<dl>
<dt><span class="simpleTagLabel">版本:</span></dt>
<dd>1.1</dd>
<dt><span class="simpleTagLabel">作者:</span></dt>
<dd>Rainer Jung, Peter Rossbach</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#SingleRemoveSynchronizedAddLock--">SingleRemoveSynchronizedAddLock</a></span>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#SingleRemoveSynchronizedAddLock-boolean-">SingleRemoveSynchronizedAddLock</a></span>(boolean&nbsp;dataAvailable)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#abortRemove--">abortRemove</a></span>()</code>
<div class="block">Abort any polling remover thread</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#getAddWaitTimeout--">getAddWaitTimeout</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#getRemoveWaitTimeout--">getRemoveWaitTimeout</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#isAddLocked--">isAddLocked</a></span>()</code>
<div class="block">Check if an add thread owns the lock.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#isDataAvailable--">isDataAvailable</a></span>()</code>
<div class="block">Check if the locked object has data available
 i.e. the remover can stop poling and get the lock.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#isRemoveLocked--">isRemoveLocked</a></span>()</code>
<div class="block">Check if the remove thread owns the lock.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#isRemovePolling--">isRemovePolling</a></span>()</code>
<div class="block">Check if the remove thread is polling.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#lockAdd--">lockAdd</a></span>()</code>
<div class="block">Acquires the lock by an add thread and sets the add flag.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#lockRemove--">lockRemove</a></span>()</code>
<div class="block">Acquires the lock by the remove thread and sets the remove flag.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#setAddWaitTimeout-long-">setAddWaitTimeout</a></span>(long&nbsp;timeout)</code>
<div class="block">Set value of addWaitTimeout</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#setRemoveWaitTimeout-long-">setRemoveWaitTimeout</a></span>(long&nbsp;timeout)</code>
<div class="block">Set value of removeWaitTimeout</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#unlockAdd-boolean-">unlockAdd</a></span>(boolean&nbsp;dataAvailable)</code>
<div class="block">Releases the lock by an add thread and reset the remove flag.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#unlockRemove--">unlockRemove</a></span>()</code>
<div class="block">Releases the lock by the remove thread and reset the add flag.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="SingleRemoveSynchronizedAddLock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SingleRemoveSynchronizedAddLock</h4>
<pre>public&nbsp;SingleRemoveSynchronizedAddLock()</pre>
</li>
</ul>
<a name="SingleRemoveSynchronizedAddLock-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SingleRemoveSynchronizedAddLock</h4>
<pre>public&nbsp;SingleRemoveSynchronizedAddLock(boolean&nbsp;dataAvailable)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getAddWaitTimeout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddWaitTimeout</h4>
<pre>public&nbsp;long&nbsp;getAddWaitTimeout()</pre>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Value of addWaitTimeout</dd>
</dl>
</li>
</ul>
<a name="setAddWaitTimeout-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAddWaitTimeout</h4>
<pre>public&nbsp;void&nbsp;setAddWaitTimeout(long&nbsp;timeout)</pre>
<div class="block">Set value of addWaitTimeout</div>
</li>
</ul>
<a name="getRemoveWaitTimeout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemoveWaitTimeout</h4>
<pre>public&nbsp;long&nbsp;getRemoveWaitTimeout()</pre>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Value of removeWaitTimeout</dd>
</dl>
</li>
</ul>
<a name="setRemoveWaitTimeout-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRemoveWaitTimeout</h4>
<pre>public&nbsp;void&nbsp;setRemoveWaitTimeout(long&nbsp;timeout)</pre>
<div class="block">Set value of removeWaitTimeout</div>
</li>
</ul>
<a name="isDataAvailable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDataAvailable</h4>
<pre>public&nbsp;boolean&nbsp;isDataAvailable()</pre>
<div class="block">Check if the locked object has data available
 i.e. the remover can stop poling and get the lock.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>True iff the lock Object has data available.</dd>
</dl>
</li>
</ul>
<a name="isAddLocked--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAddLocked</h4>
<pre>public&nbsp;boolean&nbsp;isAddLocked()</pre>
<div class="block">Check if an add thread owns the lock.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>True iff an add thread owns the lock.</dd>
</dl>
</li>
</ul>
<a name="isRemoveLocked--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRemoveLocked</h4>
<pre>public&nbsp;boolean&nbsp;isRemoveLocked()</pre>
<div class="block">Check if the remove thread owns the lock.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>True iff the remove thread owns the lock.</dd>
</dl>
</li>
</ul>
<a name="isRemovePolling--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRemovePolling</h4>
<pre>public&nbsp;boolean&nbsp;isRemovePolling()</pre>
<div class="block">Check if the remove thread is polling.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>True iff the remove thread is polling.</dd>
</dl>
</li>
</ul>
<a name="lockAdd--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockAdd</h4>
<pre>public&nbsp;void&nbsp;lockAdd()</pre>
<div class="block">Acquires the lock by an add thread and sets the add flag.
 If any add thread or the remove thread already acquired the lock
 this add thread will block until the lock is released.</div>
</li>
</ul>
<a name="lockRemove--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockRemove</h4>
<pre>public&nbsp;boolean&nbsp;lockRemove()</pre>
<div class="block">Acquires the lock by the remove thread and sets the remove flag.
 If any add thread already acquired the lock or the queue is
 empty, the remove thread will block until the lock is released
 and the queue is not empty.</div>
</li>
</ul>
<a name="unlockAdd-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockAdd</h4>
<pre>public&nbsp;void&nbsp;unlockAdd(boolean&nbsp;dataAvailable)</pre>
<div class="block">Releases the lock by an add thread and reset the remove flag.
 If the reader thread is polling, notify it.</div>
</li>
</ul>
<a name="unlockRemove--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockRemove</h4>
<pre>public&nbsp;void&nbsp;unlockRemove()</pre>
<div class="block">Releases the lock by the remove thread and reset the add flag.
 Notify all waiting add threads,
 that the lock has been released by the remove thread.</div>
</li>
</ul>
<a name="abortRemove--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>abortRemove</h4>
<pre>public&nbsp;void&nbsp;abortRemove()</pre>
<div class="block">Abort any polling remover thread</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/SingleRemoveSynchronizedAddLock.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/LinkObject.html" title="org.apache.catalina.tribes.transport.bio.util中的类"><span class="typeNameLink">上一个类</span></a></li>
<li>下一个类</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html" target="_top">框架</a></li>
<li><a href="SingleRemoveSynchronizedAddLock.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
